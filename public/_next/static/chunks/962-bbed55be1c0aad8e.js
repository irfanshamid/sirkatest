"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[962],{7562:function(e,n,t){var s=t(9669),r=t.n(s),i=t(6737),c=t.n(i),a="https://fakestoreapi.com";n.Z={actions:{get_user:function(e,n){var t={limit:e,sort:n||"asc"};return new Promise((function(e,n){try{r().get(a+"/users",{params:t}).then((function(n){e(n)}))}catch(s){n(s)}}))},get_total_user:function(){return new Promise((function(e,n){try{r().get(a+"/users").then((function(n){e(n)}))}catch(t){n(t)}}))},submit_user:function(e){var n=this;return new Promise((function(t,s){try{var i=n;r().post(a+"/users",e).then((function(e){200===e.status?(t(e.data),i.handling("Done","user submited","success")):t("submit data is error")}))}catch(c){s(c),n.handling("Oops","check network or data submition","error")}}))},edit_user:function(e,n){var t=this;return new Promise((function(s,i){try{var c=t;r().put(a+"/users/"+e,n).then((function(e){200===e.status?(s(e.data),c.handling("Done","user edited","success"),window.location.href="/user"):s("update data error")}))}catch(l){i(l),t.handling("Oops","check network or data submition","error")}}))},get_detail_user:function(e){return new Promise((function(n,t){try{r().get(a+"/users/"+e).then((function(e){n(e)}))}catch(s){t(s)}}))},delete_user:function(e){var n=this;return new Promise((function(t,s){try{var i=n;r().delete(a+"/users/"+e).then((function(e){200===e.status?(t(e.data),i.handling("Success","data has been deleted","success")):(t("error access"),i.handling("Oops","something wrong","error"))}))}catch(c){s(c)}}))},handling:function(e,n,t){c()({title:e,text:n,icon:t,timer:2e3,button:!1})}}}},4016:function(e,n,t){t.r(n),t.d(n,{default:function(){return c}});var s=t(5893),r=t(5697),i=t.n(r);function c(e){var n=e.children,t=e.bgcolor,r={backgroundColor:t||"#FFF",border:"none",borderRadius:"10px",padding:"30px",margin:"20px 0"};return(0,s.jsx)("div",{className:"card",style:r,children:n})}c.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node,i().string]),bgcolor:i().string}},7876:function(e,n,t){t.r(n),t.d(n,{default:function(){return l}});var s=t(5893),r=t(5697),i=t.n(r),c=t(2814),a=t(1436);function l(e){var n=e.summary,t=e.desc;return(0,s.jsxs)("div",{className:"row mt-3",children:[(0,s.jsx)("div",{className:"col-4",children:(0,s.jsx)("div",{style:{border:"3px solid #555",color:"#555",filter:"saturate(500%)",width:"46px",height:"46px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%"},children:(0,s.jsx)(c.G,{icon:a.ILF})})}),(0,s.jsxs)("div",{className:"col-8",children:[(0,s.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold"},children:n}),(0,s.jsx)("div",{style:{fontSize:"13px",color:"#999"},children:t})]})]})}l.propTypes={summary:i().number,icon:i().string}},4093:function(e,n,t){t.r(n),t.d(n,{default:function(){return c}});var s=t(5893),r=t(5697),i=t.n(r);function c(e){for(var n=e.total,t=e.height,r={width:"100%",height:t||"30px",background:"#2222",margin:"8px 0",position:"relative",borderRadius:"4px"},i=[],c=0;c<n;c++)i.push((0,s.jsx)("div",{className:"animated-pulse",style:r},c));return i}c.propTypes={total:i().number,height:i().string}},8962:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var s=t(5893),r=t(7294),i=t(7562),c=t(2814),a=t(1436),l=t(1163),d=t(9009),o=t(8913),u=t(4816),h=t(3815),m=t(4141),x=t(4016),f=t(4093),p=t(7876);function j(){var e=(0,r.useState)([]),n=e[0],t=e[1],j=(0,r.useState)([]),v=j[0],b=j[1],g=(0,r.useState)(0),y=g[0],w=g[1],N=(0,r.useState)(10),_=N[0],k=N[1],S=(0,r.useState)("asc"),C=S[0],A=S[1],F=(0,l.useRouter)(),O=["#307bd1","#30ced1","#d1c130","#c630d1","#d14e30","#2ea3c9","#762ec9","#649cb3","#9b64b3"];(0,r.useEffect)((function(){P(_,C),R()}),[]);var P=function(e,n){i.Z.actions.get_user(e,n).then((function(e){t(e.data)}))},R=function(){i.Z.actions.get_total_user().then((function(e){w(e.data.length);var n=e.data,t=[];n.reduce((function(e,n){return e[n.address.city]||(e[n.address.city]={name:n.address.city,value:0},t.push(e[n.address.city])),e[n.address.city].value+=1,e}),{}),b(t)}))},T=function(e,n){"create"===e?F.push("/user/form"):F.push({pathname:"/user/"+n.id,query:{index:e}})};return(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-md-8 col-sm-12",children:(0,s.jsxs)(x.default,{children:[(0,s.jsxs)("div",{className:"row mb-3",children:[(0,s.jsx)("div",{className:"col-md-3 col-sm-12",children:(0,s.jsx)("button",{className:"m-1 btn btn-primary w-100",onClick:function(){return T("create",null)},children:"Add Data"})}),(0,s.jsx)("div",{className:"col-md-2 col-sm-6 py-1",children:(0,s.jsxs)("select",{className:"form-select",defaultValue:5,onChange:function(){return e=event.target.value,A(e),void P(_,e);var e},children:[(0,s.jsx)("option",{value:"asc",children:"ASC"}),(0,s.jsx)("option",{value:"desc",children:"DSC"})]})}),(0,s.jsx)("div",{className:"col-md-2 col-sm-6 py-1",children:(0,s.jsxs)("select",{className:"form-select",defaultValue:10,onChange:function(){return e=event.target.value,k(e),void P(e,C);var e},children:[(0,s.jsx)("option",{value:5,children:"5"}),(0,s.jsx)("option",{value:10,children:"10"}),(0,s.jsx)("option",{value:15,children:"15"})]})}),(0,s.jsx)("div",{className:"col-md-5 col-sm-6 py-1",children:(0,s.jsx)("input",{name:"email",className:"form-control",placeholder:"search"})})]}),(0,s.jsx)("div",{className:"table-responsive",children:(0,s.jsxs)("table",{className:"table table-borderless table-sm table-hover",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",children:"#"}),(0,s.jsx)("th",{scope:"col",children:"Name"}),(0,s.jsx)("th",{scope:"col",children:"Email"}),(0,s.jsx)("th",{scope:"col",children:"Action"})]})}),(0,s.jsx)("tbody",{children:n.length>0?(0,s.jsx)(s.Fragment,{children:n.map((function(e,n){return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{scope:"row",valign:"middle",children:(0,s.jsx)("small",{children:n+1})}),(0,s.jsx)("td",{valign:"middle",children:(0,s.jsxs)("small",{children:[e.name.firstname," ",e.name.lastname]})}),(0,s.jsx)("td",{valign:"middle",children:(0,s.jsx)("small",{children:e.email})}),(0,s.jsxs)("td",{valign:"middle",children:[(0,s.jsx)("button",{className:"m-1 rounded-pill btn btn-sm btn-outline-secondary",onClick:function(){return T("detail",e)},children:(0,s.jsx)(c.G,{icon:a.Mdf})}),(0,s.jsx)("button",{className:"m-1 rounded-pill btn btn-sm btn-outline-success",onClick:function(){return T("edit",e)},children:(0,s.jsx)(c.G,{icon:a.TzT})}),(0,s.jsx)("button",{className:"m-1 rounded-pill btn btn-sm btn-outline-danger",onClick:function(){return n=e.id,void swal({title:"Are you sure?",text:"Once deleted, you will not be able to recover this data!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e&&i.Z.actions.delete_user(n).then((function(e){P(_,C)}))}));var n},children:(0,s.jsx)(c.G,{icon:a.$aW})})]})]},n)}))}):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,children:(0,s.jsx)(f.default,{height:"40px",total:5})})})})]})})]})}),(0,s.jsxs)("div",{className:"col-md-4",children:[(0,s.jsxs)(x.default,{children:[(0,s.jsx)("h5",{children:"Summary"}),(0,s.jsx)(p.default,{summary:y,desc:"users"})]}),(0,s.jsxs)(x.default,{children:[(0,s.jsx)("h5",{children:"Statics City"}),(0,s.jsx)("div",{style:{width:"100%",height:350},children:(0,s.jsx)(d.h,{children:(0,s.jsxs)(o.u,{width:400,height:400,children:[(0,s.jsx)(u.b,{data:v,innerRadius:40,outerRadius:60,paddingAngle:2,dataKey:"value",isAnimationActive:!1,labelLine:!0,label:function(e){var n=e.x,t=e.y,r=(e.name,e.percent),i=e.value;return(0,s.jsxs)("text",{x:n,y:t,fill:"#333",fontSize:8,textAnchor:"middle",children:["".concat((100*r).toFixed(0),"%")," (",i,")"]})},children:v.map((function(e,n){return(0,s.jsx)(h.b,{fill:O[n%O.length]},"cell-".concat(n))}))}),(0,s.jsx)(m.D,{align:"left",iconSize:10})]})})})]})]})]})}}}]);